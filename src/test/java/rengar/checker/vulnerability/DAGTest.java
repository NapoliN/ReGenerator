package rengar.checker.vulnerability;

import org.junit.jupiter.api.Test;
import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.junit.jupiter.api.Assertions.assertIterableEquals;

import java.util.*;

public class DAGTest {
    @Test
    public void testAddNode() {
        DAG dag = new DAG();
        dag.addNode(1);
        assertEquals(1, dag.getAdjList().size());
    }

    @Test
    public void testAddEdge() {
        DAG dag = new DAG();
        dag.addEdge(1, 2);
        assertEquals(1, dag.getAdjList().get(1).size());
    }

    @Test
    public void getAdjList() {
        DAG dag = new DAG();
        dag.addEdge(1, 2);
        dag.addEdge(1, 3);
        dag.addEdge(2, 4);
        dag.addEdge(3, 4);
        Map<Integer, List<Integer>> adjList = dag.getAdjList();
        assertIterableEquals(adjList.get(1), Arrays.asList(2, 3));
        assertIterableEquals(adjList.get(2), Arrays.asList(4));
        assertIterableEquals(adjList.get(3), Arrays.asList(4));
    }
}
